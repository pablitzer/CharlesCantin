backend:
  name: git-gateway
  branch: main
  repo: pablitzer/CharlesCantin
  site_domain: cms.netlify.com
  base_url: cms.netlify.com
  auth_endpoint: auth

locale: 'fr'

publish_mode: editorial_workflow

media_folder: '/images/uploads' # Media files will be stored in the repo under images/uploads
public_folder: '/images/uploads' # The src attribute for uploaded media will begin with /images/uploads

site_url: https://endearing-chebakia-e2b5f2.netlify.app/

logo_url: https://endearing-chebakia-e2b5f2.netlify.app/images/logo.png

collections:
  - name: 'categoriephoto'
    label: 'catégories de photo'
    folder: 'configuration/photocategory'
    create: true
    extension: 'json'
    format: 'json'
    slug: '{{slug}}'
    identifier_field: 'code'
    fields:
      - label: 'Code'
        name: 'code'
        widget: 'string'
      - label: 'libellé'
        name: 'label'
        widget: 'string'
      - label: 'description'
        name: 'description'
        widget: 'string'

  - name: 'photo'
    label: 'photographie'
    folder: 'configuration/photo'
    create: true
    extension: 'json'
    format: 'json'
    slug: '{{slug}}'
    fields:
      - label: 'image'
        name: 'image'
        widget: 'image'
      - label: 'catégorie'
        name: 'category'
        widget: 'relation'
        collection: categoriephoto
        searchFields: ['label']
        valueField: 'code'

  - name: 'page'
    label: 'pages du site'
    folder: 'configuration/page'
    create: true
    delete: false
    extension: 'json'
    format: 'json'
    slug: '{{slug}}'
    identifier_field: 'name'
    fields:
      - label: 'nom'
        name: 'name'
        widget: 'hidden'
      - label: 'titre'
        name: 'title'
        widget: 'string'
      - label: 'sous-titre'
        name: 'subtitle'
        widget: 'string'
        required: false
        default: ''
      - label: 'titre référencement'
        name: 'reftitle'
        widget: 'string'
      - label: 'description référencement'
        name: 'refdescription'
        widget: 'string'
      - label: 'image de fond'
        name: 'backgroundimage'
        widget: 'image'

  - name: 'generalconfiguration'
    label: 'configuration générale'
    files:
      - label: 'logo'
        name: 'logo'
        file: 'configuration/general/logo.json'
        extension: 'json'
        format: 'json'
        fields:
          - label: 'image'
            name: 'image'
            widget: 'image'
          - label: 'texte'
            name: 'text'
            widget: 'string'
          - label: 'page de lien'
            name: 'linkedpage'
            widget: 'relation'
            collection: page
            searchFields: ['title']
            valueField: 'name'
            default: 'index'
      - label: 'menu de navigation'
        name: 'navigation'
        file: 'configuration/general/navigation.json'
        extension: 'json'
        format: 'json'
        fields:
          - label: 'choix du menu'
            name: 'menuitems'
            widget: 'list'
            summary: '{{fields.label}}'
            allow_add: true
            collapsed: true
            fields:
              - label: 'ordre affichage'
                name: 'order'
                widget: 'number'
                value_type: 'int'
              - label: 'libellé'
                name: 'label'
                widget: 'string'
              - label: 'description'
                name: 'description'
                widget: 'string'
              - label: 'page de lien'
                name: 'linkedpage'
                widget: 'relation'
                collection: page
                searchFields: ['title']
                valueField: 'name'
